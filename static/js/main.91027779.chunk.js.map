{"version":3,"sources":["api/constants/constants.ts","api/utils/getData.ts","api/utils/todosPrepader.ts","api/utils/getTodos.ts","api/utils/getUsers.ts","components/Todo/Todo.tsx","components/TodoList/TodoList.tsx","App.tsx","store/actionCreators.ts","store/actionTypes.ts","store/rootReducer.ts","store/store.ts","index.tsx"],"names":["API_URL","getData","url","fetch","then","response","json","todosPreparer","a","todos","users","map","todo","user","find","id","userId","Todo","title","completed","name","TodoList","className","key","mapDispatch","setIsLoadind","value","type","isLoading","setTodos","preparedTodos","setSortType","sortType","typeOfSort","App","connect","state","props","handleLoadButton","todosPrepared","sortedTodo","useMemo","sort","b","localeCompare","todoA","todoB","Number","length","disabled","onClick","initialState","store","createStore","action","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.91027779.chunk.js","sourcesContent":["export const API_URL = 'https://jsonplaceholder.typicode.com';\n","export const getData = <T>(url: string): Promise<T> => fetch(url).then(response => response.json());\n","import { getTodos } from './getTodos';\nimport { getUsers } from './getUsers';\n\nexport const todosPreparer = async () => {\n  const todos = await getTodos();\n  const users = await getUsers();\n\n  return todos.map(todo => ({\n    ...todo,\n    user: users.find(user => user.id === todo.userId) as User,\n  }));\n};\n","import { API_URL } from '../constants/constants';\nimport { getData } from './getData';\n\nexport const getTodos = (): Promise<Todo[]> => getData<Todo[]>(`${API_URL}/todos`);\n","import { API_URL } from '../constants/constants';\nimport { getData } from './getData';\n\nexport const getUsers = (): Promise<User[]> => getData<User[]>(`${API_URL}/users`);\n","import React, { FC } from 'react';\n/* import { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { deleteTodo } from '../../store/store'; */\n\ninterface Props {\n  todo: PreparedTodo;\n  /* delTodo: (id: number) => void; */\n}\n\nexport const Todo: FC<Props> = ({ todo /* delTodo */ }) => {\n  const {\n    id,\n    title,\n    completed,\n    user,\n  } = todo;\n\n  return (\n    <tr>\n      <th>{id}</th>\n      <th>{user?.name}</th>\n      <th>{title}</th>\n      <th>{completed ? 'complete' : 'active'}</th>\n      {/* <th>\n        <button\n          type=\"button\"\n          onClick={() => delTodo(id)}\n        >\n          delete\n        </button>\n      </th> */}\n    </tr>\n  );\n};\n/*\nconst mapDispatch = (dispatch: Dispatch) => ({\n  deleteTodo: (id: number) => dispatch(deleteTodo(id)),\n});\n\nexport const Todo = connect(null, mapDispatch)(TodoTemplate); */\n","import React, { FC } from 'react';\nimport { Todo } from '../Todo/Todo';\n\ninterface Props {\n  todos: PreparedTodo[];\n}\n\nexport const TodoList: FC<Props> = ({ todos }) => (\n  <table className=\"table\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>User</th>\n        <th>Task</th>\n        <th>Status</th>\n      </tr>\n    </thead>\n    <tbody>\n      {todos.map(todo => (\n        <Todo key={todo.id} todo={todo} />\n      ))}\n    </tbody>\n  </table>\n);\n","import React, { FC, useMemo } from 'react';\nimport { connect } from 'react-redux';\nimport { todosPreparer } from './api/utils/todosPrepader';\nimport {\n  setIsLoadind,\n  setTodos,\n  setSortType,\n} from './store/actionCreators';\nimport { TodoList } from './components/TodoList/TodoList';\nimport './App.css';\n\ninterface Props extends RootState {\n  setIsLoadind: (value: boolean) => void;\n  setTodos: (todos: PreparedTodo[]) => void;\n  setSortType: (sortType: string) => void;\n}\n\nexport const AppTemplate: FC<Props> = (props) => {\n  const {\n    isLoading,\n    typeOfSort,\n    todos,\n    // eslint-disable-next-line no-shadow\n    setIsLoadind,\n    // eslint-disable-next-line no-shadow\n    setTodos,\n    // eslint-disable-next-line no-shadow\n    setSortType,\n  } = props;\n\n  const handleLoadButton = async () => {\n    setIsLoadind(true);\n    const todosPrepared = await todosPreparer();\n\n    setTodos(todosPrepared);\n\n    return todosPrepared;\n  };\n\n  const sortedTodo = useMemo(() => {\n    switch (typeOfSort) {\n      case 'title':\n        return [...todos].sort((a, b) => a.title.localeCompare(b.title));\n      case 'completed':\n        return [...todos]\n          .sort((todoA, todoB) => (Number(todoB.completed) - Number(todoA.completed)));\n      case 'user':\n        return [...todos].sort((a, b) => a.user.name.localeCompare(b.user.name));\n      default:\n        return todos;\n    }\n  }, [todos, typeOfSort]);\n\n  return (\n    <>\n      <h1>Dynamic list of TODOs</h1>\n      {todos.length === 0\n        ? (\n          <button\n            type=\"button\"\n            disabled={isLoading}\n            onClick={handleLoadButton}\n            className=\"button\"\n          >\n            {isLoading ? (<>Loading...</>) : <>Load Todos</>}\n          </button>\n        )\n        : (\n          <>\n            <button\n              className=\"button\"\n              type=\"button\"\n              onClick={() => setSortType('title')}\n            >\n              sort by title\n            </button>\n            <button\n              className=\"button\"\n              type=\"button\"\n              onClick={() => {\n                setSortType('completed');\n              }}\n            >\n              sort by status\n            </button>\n            <button\n              className=\"button\"\n              type=\"button\"\n              onClick={() => setSortType('user')}\n            >\n              by user name\n            </button>\n            <TodoList todos={sortedTodo} />\n          </>\n        )}\n    </>\n  );\n};\n\nconst mapState = (state: RootState) => ({\n  isLoading: state.isLoading,\n  todos: state.todos,\n  typeOfSort: state.typeOfSort,\n});\n\nconst mapDispatch = {\n  setIsLoadind,\n  setTodos,\n  setSortType,\n};\n\nexport const App = connect(\n  mapState,\n  mapDispatch,\n)(AppTemplate);\n","import {\n  IS_LOADING,\n  SET_TODOS,\n  DELETE_TODO,\n  SET_SORT_TYPE,\n} from './actionTypes';\n\nexport const setIsLoadind = (value: boolean) => ({\n  type: IS_LOADING,\n  isLoading: value,\n});\n\nexport const setTodos = (preparedTodos: PreparedTodo[]) => ({\n  type: SET_TODOS,\n  todos: preparedTodos,\n});\n\nexport const deleteTodo = (id: number) => ({\n  type: DELETE_TODO,\n  id,\n});\n\nexport const setSortType = (sortType: string) => ({\n  type: SET_SORT_TYPE,\n  typeOfSort: sortType,\n});\n","export const IS_LOADING = 'IS_LOADING';\nexport const SET_TODOS = 'SET_TODOS';\nexport const SET_SORT_TYPE = 'SET_SORT_TYPE';\nexport const DELETE_TODO = 'DELETE_TODO';\n","import { AnyAction } from 'redux';\nimport {\n  IS_LOADING,\n  SET_TODOS,\n  DELETE_TODO,\n  SET_SORT_TYPE,\n} from './actionTypes';\n\n\nexport const initialState: RootState = {\n  isLoading: false,\n  todos: [],\n  typeOfSort: '',\n};\n\nexport const rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case IS_LOADING:\n      return {\n        ...state,\n        isLoading: action.isLoading,\n      };\n    case SET_TODOS:\n      return {\n        ...state,\n        todos: action.todos,\n      };\n    case SET_SORT_TYPE:\n      return {\n        ...state,\n        typeOfSort: action.typeOfSort,\n      };\n    case DELETE_TODO:\n      return {\n        ...state,\n        todos: (state.todos.filter(todo => todo.id !== action.id)),\n      };\n    default:\n      return state;\n  }\n};\n","import { createStore } from 'redux';\nimport { rootReducer, initialState } from './rootReducer';\n\nexport const store = createStore(rootReducer, initialState);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport { store } from './store/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}