{"version":3,"sources":["api/constants/constants.ts","api/utils/getData.ts","api/utils/todosPrepader.ts","api/utils/getTodos.ts","api/utils/getUsers.ts","store/store.ts","components/Todo/Todo.tsx","components/TodoList/TodoList.tsx","App.tsx","index.tsx"],"names":["API_URL","getData","url","fetch","then","response","json","todosPreparer","a","todos","users","map","todo","user","find","id","userId","initialState","isLoading","typeOfSort","setIsLoadind","value","type","setSortType","sortType","store","createStore","state","action","Todo","title","completed","name","TodoList","className","key","App","connect","dispatch","val","setTodos","deleteTodo","sort","props","handleLoadButton","todosPrepared","console","log","todosSorted","useMemo","b","localeCompare","todoA","todoB","Number","length","disabled","onClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6395e8f8.chunk.js","sourcesContent":["export const API_URL = 'https://jsonplaceholder.typicode.com';\n","export const getData = <T>(url: string): Promise<T> => fetch(url).then(response => response.json());\n","import { getTodos } from './getTodos';\nimport { getUsers } from './getUsers';\n\nexport const todosPreparer = async () => {\n  const todos = await getTodos();\n  const users = await getUsers();\n\n  return todos.map(todo => ({\n    ...todo,\n    user: users.find(user => user.id === todo.userId) as User,\n  }));\n};\n","import { API_URL } from '../constants/constants';\nimport { getData } from './getData';\n\nexport const getTodos = (): Promise<Todo[]> => getData<Todo[]>(`${API_URL}/todos`);\n","import { API_URL } from '../constants/constants';\nimport { getData } from './getData';\n\nexport const getUsers = (): Promise<User[]> => getData<User[]>(`${API_URL}/users`);\n","import { AnyAction, createStore } from 'redux';\n\nexport const initialState: RootState = {\n  isLoading: false,\n  todos: [],\n  typeOfSort: '',\n};\n\nexport const IS_LOADING = 'IS_LOADING';\nexport const SET_TODOS = 'SET_TODOS';\nexport const SET_SORT_TYPE = 'SET_SORT_TYPE';\nexport const DELETE_TODO = 'DELETE_TODO';\n\nexport const setIsLoadind = (value: boolean) => ({\n  type: IS_LOADING,\n  isLoading: value,\n});\n\nexport const setTodos = (preparedTodos: PreparedTodo[]) => ({\n  type: SET_TODOS,\n  todos: preparedTodos,\n});\n\nexport const deleteTodo = (id: number) => ({\n  type: DELETE_TODO,\n  id,\n});\n\nexport const setSortType = (sortType: string) => ({\n  type: SET_SORT_TYPE,\n  typeOfSort: sortType,\n});\n\nexport const rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case IS_LOADING:\n      return {\n        ...state,\n        isLoading: action.isLoading,\n      };\n    case SET_TODOS:\n      return {\n        ...state,\n        todos: action.todos,\n      };\n    case setSortType:\n      return {\n        ...state,\n        typeOfSort: action.typeOfSort,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const store = createStore(rootReducer, initialState);\n","import React, { FC } from 'react';\n/* import { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { deleteTodo } from '../../store/store'; */\n\ninterface Props {\n  todo: PreparedTodo;\n  /* delTodo: (id: number) => void; */\n}\n\nexport const Todo: FC<Props> = ({ todo /* delTodo */ }) => {\n  const {\n    id,\n    title,\n    completed,\n    user,\n  } = todo;\n\n  return (\n    <tr>\n      <th>{id}</th>\n      <th>{user?.name}</th>\n      <th>{title}</th>\n      <th>{completed ? 'complete' : 'active'}</th>\n      {/* <th>\n        <button\n          type=\"button\"\n          onClick={() => delTodo(id)}\n        >\n          delete\n        </button>\n      </th> */}\n    </tr>\n  );\n};\n/*\nconst mapDispatch = (dispatch: Dispatch) => ({\n  deleteTodo: (id: number) => dispatch(deleteTodo(id)),\n});\n\nexport const Todo = connect(null, mapDispatch)(TodoTemplate); */\n","import React, { FC } from 'react';\nimport { Todo } from '../Todo/Todo';\n\ninterface Props {\n  todos: PreparedTodo[];\n}\n\nexport const TodoList: FC<Props> = ({ todos }) => (\n  <table className=\"table\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>User</th>\n        <th>Task</th>\n        <th>Status</th>\n      </tr>\n    </thead>\n    <tbody>\n      {todos.map(todo => (\n        <Todo key={todo.id} todo={todo} />\n      ))}\n    </tbody>\n  </table>\n);\n","import React, { FC, useMemo } from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { todosPreparer } from './api/utils/todosPrepader';\nimport {\n  setIsLoadind,\n  setTodos,\n  deleteTodo,\n  setSortType,\n} from './store/store';\nimport { TodoList } from './components/TodoList/TodoList';\n\ninterface Props extends RootState {\n  setIsLoadind: (value: boolean) => void;\n  setTodos: (todos: PreparedTodo[]) => void;\n  deleteTodo: (id: number) => void;\n  setSortType: (sort: string) => void;\n}\n\nexport const AppTemplate: FC<Props> = (props) => {\n  const {\n    isLoading,\n    typeOfSort,\n    todos,\n  } = props;\n\n  const handleLoadButton = async () => {\n    setIsLoadind(true);\n    const todosPrepared = await todosPreparer();\n\n    console.log(todosPrepared);\n\n    return todosPrepared;\n  };\n\n  /* const handleTypeOfSort = () => {\n    switch (typeOfSort) {\n      case 'title':\n        return [...todos].sort((a, b) => a.title.localeCompare(b.title));\n      case 'completed':\n        return [...todos]\n          .sort((todoA, todoB) => (Number(todoB.completed) - Number(todoA.completed)));\n      case 'user':\n        return [...todos].sort((a, b) => a.user.name.localeCompare(b.user.name));\n      default:\n        return todos;\n    }\n  }; */\n\n  const todosSorted = useMemo(() => {\n    switch (typeOfSort) {\n      case 'title':\n        return [...todos].sort((a, b) => a.title.localeCompare(b.title));\n      case 'completed':\n        return [...todos]\n          .sort((todoA, todoB) => (Number(todoB.completed) - Number(todoA.completed)));\n      case 'user':\n        return [...todos].sort((a, b) => a.user.name.localeCompare(b.user.name));\n      default:\n        return todos;\n    }\n  }, [todos, typeOfSort]);\n\n  return (\n    <>\n      <h1>Dynamic list of TODOs</h1>\n      {todos.length === 0\n        ? (\n          <button\n            type=\"button\"\n            disabled={isLoading}\n            onClick={handleLoadButton}\n            className=\"button\"\n          >\n            {isLoading ? (<>Loading...</>) : <>Load Todos</>}\n          </button>\n        )\n        : (\n          <>\n            <button\n              className=\"button\"\n              type=\"button\"\n              onClick={() => setSortType('title')}\n            >\n              sort by title\n            </button>\n            <button\n              className=\"button\"\n              type=\"button\"\n              onClick={() => setSortType('completed')}\n            >\n              sort by status\n            </button>\n            <button\n              className=\"button\"\n              type=\"button\"\n              onClick={() => setSortType('user')}\n            >\n              by user name\n            </button>\n            <TodoList todos={todosSorted} />\n          </>\n        )}\n    </>\n  );\n};\n\nconst mapState = (state: RootState) => ({\n  isLoading: state.isLoading,\n  todos: state.todos,\n  typeOfSort: state.typeOfSort,\n});\n\nconst mapDispatch = (dispatch: Dispatch) => ({\n  setIsLoadind: (val: boolean) => dispatch(setIsLoadind(val)),\n  setTodos: (todos: PreparedTodo[]) => dispatch(setTodos(todos)),\n  deleteTodo: (id: number) => dispatch(deleteTodo(id)),\n  setSortType: (sort: string) => dispatch(setSortType(sort)),\n});\n\nexport const App = connect(\n  mapState,\n  mapDispatch,\n)(AppTemplate);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport { store } from './store/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}